<!DOCTYPE html>
<html>
<head><title>Reset Password</title></head>
<body>
  <h2>Reset Your Password</h2>
  <form id="resetForm">
  <h2>Reset Password</h2>
  <input type="hidden" name="email" id="email">
  <input type="hidden" name="token" id="token">
  New Password: <input type="password" name="newPassword" required><br>
  <button type="submit">Reset Password</button>
</form>

<script>
  const params = new URLSearchParams(window.location.search);
  document.getElementById('email').value = params.get('email');
  document.getElementById('token').value = params.get('token');

  document.getElementById('resetForm').onsubmit = async (e) => {
    e.preventDefault();
    const formData = new URLSearchParams(new FormData(e.target));
    const res = await fetch('/reset-password', { method: 'POST', body: formData });
    const msg = await res.text();
    document.body.innerHTML = msg;
  };
</script>

</body>
</html>
